(this["webpackJsonpdecipher-drop-frontend"]=this["webpackJsonpdecipher-drop-frontend"]||[]).push([[0],{239:function(e,t,n){"use strict";t.a=n.p+"static/media/escrow.tmpl.883651e9.teal"},295:function(e,t,n){},314:function(e,t){},316:function(e,t){},326:function(e,t){},328:function(e,t){},355:function(e,t){},356:function(e,t){},361:function(e,t){},363:function(e,t){},370:function(e,t){},389:function(e,t){},417:function(e,t){},489:function(e,t){},491:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),s=n.n(c),i=(n(295),n(1)),o=n.n(i),l=n(5),u=n(25),d=n(43),p=n(495),f=n(2),b=n(6);function j(e){var t=a.useState(!1),n=Object(u.a)(t,2),r=n[0],c=n[1],s=e.sessionWallet,i=e.updateWallet;function j(e){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(o.a.mark((function t(n){var a,r,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((a=n.currentTarget.id)in d.allowedWallets){t.next=4;break}return void 0!==e.sessionWallet.wallet&&e.sessionWallet.disconnect(),t.abrupt("return",c(!1));case 4:return r=new d.SessionWallet(e.sessionWallet.network,e.sessionWallet.permissionCallback,a),t.next=7,r.connect();case 7:if(t.sent){t.next=9;break}r.disconnect();case 9:s=setInterval((function(){var t=localStorage.getItem("walletconnect");if(null!==t&&void 0!==t&&""!==t){var n=JSON.parse(t);n.accounts.length>0&&(clearInterval(s),r.setAccountList(n.accounts),e.updateWallet(new d.SessionWallet(r.network,r.permissionCallback,a)))}}),250),e.updateWallet(r),c(!1);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}a.useEffect((function(){var e;if(!s.connected())return s.connect().then((function(t){t&&(e=setInterval((function(){s.connected()&&(clearInterval(e),i(s))}),500))})),function(){clearInterval(e)}}),[s,i]);for(var m=[],x=0,O=Object.entries(d.allowedWallets);x<O.length;x++){var g=Object(u.a)(O[x],2),v=g[0],w=g[1];"wallet-connect"===v&&m.push(Object(b.jsx)("li",{children:Object(b.jsx)(p.a,{id:v,large:!0,fill:!0,minimal:!0,outlined:!0,onClick:j,children:Object(b.jsxs)("div",{className:"wallet-option",children:[Object(b.jsx)("img",{alt:"wallet-branding",className:"wallet-branding",src:w.img(e.darkMode)}),Object(b.jsx)("h5",{children:w.displayName()})]})})},v))}if(!e.connected)return Object(b.jsxs)("div",{children:[Object(b.jsx)(p.a,{minimal:!0,style:{color:"white",borderColor:"white",borderRadius:"8px"},rightIcon:"selection",intent:"warning",outlined:!0,onClick:function(){c(!0)},children:"Connect"}),Object(b.jsx)(p.d,{isOpen:r,title:"Select Wallet",onClose:j,children:Object(b.jsx)("div",{className:f.a.DIALOG_BODY,children:Object(b.jsx)("ul",{className:"wallet-option-list",children:m})})})]});var y=e.accts.map((function(e,t){return Object(b.jsxs)("option",{value:t,children:[" ",e.substr(0,8),"...  "]},t)}));return Object(b.jsxs)("div",{children:[Object(b.jsx)(p.e,{onChange:function(t){e.sessionWallet.setAccountIndex(parseInt(t.target.value)),e.updateWallet(e.sessionWallet)},minimal:!0,iconProps:{icon:"symbol-circle",intent:"success"},defaultValue:e.sessionWallet.accountIndex(),children:y}),Object(b.jsx)(p.a,{icon:"log-out",minimal:!0,onClick:function(){e.sessionWallet.disconnect(),e.updateWallet(new d.SessionWallet(e.sessionWallet.network,e.sessionWallet.permissionCallback))}})]})}var h=n(73),m=n(41),x=n(64);function O(){var e=r.a.useState(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)("div",{className:"help-container",children:[Object(b.jsx)(p.a,{icon:"help",minimal:!0,intent:"primary",outlined:!0,onClick:function(){a(!n)},children:"Need Help?"}),Object(b.jsx)(p.c,{isOpen:n,children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"help-text",children:Object(b.jsx)("p",{style:{color:"white"},children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Mauris nunc congue nisi vitae suscipit. Feugiat pretium nibh ipsum consequat. Pellentesque eu tincidunt tortor aliquam nulla. Ullamcorper eget nulla facilisi etiam dignissim diam quis. Massa sed elementum tempus egestas sed sed risus. Natoque penatibus et magnis dis parturient. Cursus sit amet dictum sit amet justo donec. Id leo in vitae turpis massa sed. Sem nulla pharetra diam sit amet nisl suscipit adipiscing bibendum. Sociis natoque penatibus et magnis dis parturient montes nascetur ridiculus."})})})})]})}function g(e){var t=r.a.useState(e.open),n=Object(u.a)(t,2),c=n[0],s=n[1],i=r.a.useState(e.signed),o=Object(u.a)(i,2),l=o[0],d=o[1],j=r.a.useState(0),h=Object(u.a)(j,2),m=h[0],x=h[1],O=r.a.useCallback((function(){return s(!1)}),[]);return Object(a.useEffect)((function(){s(e.open),d(e.signed)}),[e]),Object(a.useEffect)((function(){var e=0;if(!(!l||m>0||m>=1))var t=setInterval((function(){if((e+=.0125)>1)return clearInterval(t),void x(1);x(e)}),100)}),[l,m]),Object(b.jsx)(p.d,{isOpen:c,onClose:O,style:{background:"#000"},children:Object(b.jsx)("div",{className:f.a.DIALOG_BODY,children:l?Object(b.jsx)(p.g,{animate:!0,intent:"success",value:m}):Object(b.jsxs)("div",{className:"container",style:{color:"white"},children:[Object(b.jsx)("p",{children:Object(b.jsx)("b",{children:"Please Approve the transaction in your Mobile Wallet. "})}),Object(b.jsx)("p",{children:"You may have to refresh your Wallet Connect session"}),Object(b.jsx)("p",{children:"On your mobile app under Settings - Wallet Connect"})]})})})}var v=function(){var e=new d.SessionWallet(x.b.network),t=r.a.useState(e),n=Object(u.a)(t,2),c=n[0],s=n[1],i=r.a.useState({id:0,url:"algo-gator.png",name:"TBD"}),f=Object(u.a)(i,2),v=f[0],w=f[1],y=r.a.useState(e.accountList()),k=Object(u.a)(y,2),T=k[0],S=k[1],W=r.a.useState(e.connected()),I=Object(u.a)(W,2),N=I[0],A=I[1],C=r.a.useState(!0),D=Object(u.a)(C,2),E=D[0],R=D[1],L=r.a.useState(!1),B=Object(u.a)(L,2),P=B[0],G=B[1],M=r.a.useState(!1),q=Object(u.a)(M,2),F=q[0],H=q[1],J=r.a.useState(!1),Y=Object(u.a)(J,2),U=Y[0],X=Y[1],Z=new URLSearchParams(window.location.search),_=Z.get("escrow"),K=Z.get("addr"),V=Z.get("secret");function Q(){return(Q=Object(l.a)(o.a.mark((function t(){var n,a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==V&&null!=K&&null!=_){t.next=2;break}return t.abrupt("return");case 2:return G(!0),X(!0),t.next=6,Object(x.c)(_);case 6:return n=t.sent,t.next=9,Object(x.a)(e,n,_,K,V);case 9:return a=t.sent,H(!0),t.next=13,Object(x.e)(a);case 13:return t.next=15,Object(x.d)(n);case 15:r=t.sent,w(r),R(!1),X(!1),G(!1);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){null!==V&&null!==K&&null!==_||R(!1)}),[_,K,V]),"\n  Congrats on successfully collecting your Decipher Ticket!\n  Please make sure the asset is in your Algorand Mobile Wallet and ready to be presented when you arrive at the venue.\n  See you at Decipher!".trim(),"\n    Congrats on successfully collecting your Algo Gator NFT!\n    Enjoy it as a commemorative token that you\u2019ve earned by being part of the Algorand community and signing up as a virtual VIP.\n    See you online at Decipher!".trim(),Object(b.jsxs)("div",{className:"App",style:{background:"#000"},children:[Object(b.jsxs)(p.f,{style:{background:"linear-gradient(90deg,#b72375 3%,#f37e33 97%)"},children:[Object(b.jsx)(p.f.Group,{align:h.a.LEFT,children:Object(b.jsx)(p.f.Heading,{children:Object(b.jsx)("img",{alt:"Algorand A",className:"header-icon",src:"favicon.ico"})})}),Object(b.jsx)(p.f.Group,{align:h.a.RIGHT,children:Object(b.jsx)(j,{darkMode:!0,sessionWallet:c,accts:T,connected:N,updateWallet:function(e){s(e),S(e.accountList()),A(e.connected())}})})]}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(p.b,{elevation:m.a.FOUR,className:"ticket-card",children:Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("div",{className:"content-piece",children:Object(b.jsx)("img",{alt:"NFT",className:"gator",src:v.url})}),Object(b.jsxs)("div",{className:"content-details",children:[Object(b.jsxs)("div",{className:"detail-prose",style:{color:"white"},children:[Object(b.jsx)("h3",{children:" Greetings Algonaut!"}),Object(b.jsx)("p",{children:"Connect your wallet and claim your ticket"})]}),Object(b.jsx)("div",{className:"collect-button",style:{visibility:E?"visible":"hidden"},children:Object(b.jsx)(p.a,{style:{color:"white",borderColor:"white",borderRadius:"8px"},minimal:!0,outlined:!0,intent:"success",large:!0,icon:"circle",text:"Collect",onClick:function(){return Q.apply(this,arguments)},disabled:!N,loading:P})})]})]})})}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(O,{})}),Object(b.jsx)(g,{open:U,signed:F})]})};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(v,{})}),document.getElementById("root"))},64:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return w})),n.d(t,"e",(function(){return N}));var a=n(1),r=n.n(a),c=n(25),s=n(88),i=n(5),o=n(27),l=n.n(o),u=n(237),d=n.n(u),p=n(238),f=n.n(p),b=n(239),j={seeder:"KNZYQZYA6H2OTCS3LJDYIA4TXWJ57J7EOROALDAFXIREZXMZXRWBHI6XRE",network:"TestNet",algod:{host:"https://testnet.algoexplorerapi.io",port:"",token:""}},h=new l.a.Algodv2(j.algod.token,j.algod.host,j.algod.port);function m(e,t,n,a,r){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(r.a.mark((function e(t,n,a,i,u){var d,p,f,b,m,x,g,v,w,y,T,S;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=t.getDefaultAccount(),e.next=3,k(i);case 3:return p=e.sent,e.next=6,h.getTransactionParams().do();case 6:return(f=e.sent).lastRound=f.firstRound+10,b=new o.Transaction(Object(s.a)({from:d,to:d,assetIndex:n,type:o.TransactionType.axfer,amount:0},f)),m=new o.Transaction(Object(s.a)({from:a,to:d,assetIndex:n,type:o.TransactionType.axfer,amount:0,closeRemainderTo:d},f)),x=new o.Transaction(Object(s.a)({from:a,to:j.seeder,type:o.TransactionType.pay,amount:0,closeRemainderTo:j.seeder},f)),g=[b,m,x],l.a.assignGroupID(g),p.lsig.args=[O(m.txID(),a,u)],v=l.a.signLogicSigTransactionObject(m,p),w=l.a.signLogicSigTransactionObject(x,p),e.next=18,t.signTxn(g);case 18:return y=e.sent,T=Object(c.a)(y,2),S=T[0],e.abrupt("return",[S,v,w]);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(t,n,a){var r=e.from("ProgData"),c=l.a.decodeAddress(n).publicKey,s=d.a.decode.asBytes(t),i=new Uint8Array(r.length+c.length+s.length);i.set(r,0),i.set(c,r.length),i.set(s,r.length+c.length);var o=e.from(a,"base64");return f.a.sign.detached(i,o)}function g(e){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getAssetByID(t).do();case 2:return n=e.sent,a=n.params,e.abrupt("return",{id:t,url:a.url,name:a.name});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return y.apply(this,arguments)}function y(){return(y=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.accountInformation(t).do();case 2:if(1===(n=e.sent).assets.length){e.next=5;break}throw Error("wat");case 5:return e.abrupt("return",n.assets[0]["asset-id"]);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return T.apply(this,arguments)}function T(){return(T=Object(i.a)(r.a.mark((function t(n){var a,c,s,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="0x"+e.from(l.a.decodeAddress(n).publicKey).toString("hex"),t.next=3,S(b.a);case 3:return c=t.sent,s=c.replace("TMPL_GEN_ADDR",a),t.next=7,h.compile(s).do();case 7:return i=t.sent,t.abrupt("return",new o.LogicSigAccount(e.from(i.result,"base64")));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(e){return W.apply(this,arguments)}function W(){return(W=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return I(e)&&e.arrayBuffer()})).then((function(e){return(new TextDecoder).decode(e)})).catch((function(e){return console.error(e),""}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){if(!e.ok)throw new Error("HTTP ".concat(e.status," - ").concat(e.statusText));return e}function N(e){return A.apply(this,arguments)}function A(){return(A=Object(i.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.sendRawTransaction(t.map((function(e){return e.blob}))).do();case 2:return n=e.sent,a=n.txId,e.next=6,C(h,a,3);case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t,n){return D.apply(this,arguments)}function D(){return(D=Object(i.a)(r.a.mark((function e(t,n,a){var c,s,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null==t||null==n||a<0)){e.next=2;break}throw new Error("Bad arguments.");case 2:return e.next=4,t.status().do();case 4:if("undefined"!==typeof(c=e.sent)){e.next=7;break}throw new Error("Unable to get node status");case 7:s=c["last-round"]+1,i=s;case 9:if(!(i<s+a)){e.next=23;break}return e.next=12,t.pendingTransactionInformation(n).do();case 12:if(void 0===(o=e.sent)){e.next=18;break}if(!(null!==o["confirmed-round"]&&o["confirmed-round"]>0)){e.next=16;break}return e.abrupt("return",o);case 16:if(!(null!=o["pool-error"]&&o["pool-error"].length>0)){e.next=18;break}throw new Error("Transaction Rejected pool error".concat(o["pool-error"]));case 18:return e.next=20,t.statusAfterBlock(i).do();case 20:i+=1,e.next=9;break;case 23:throw new Error("Transaction not confirmed after ".concat(a," rounds!"));case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(17).Buffer)}},[[491,1,2]]]);
//# sourceMappingURL=main.58cf8710.chunk.js.map