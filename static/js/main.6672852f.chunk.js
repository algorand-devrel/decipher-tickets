(this["webpackJsonpdecipher-drop-frontend"]=this["webpackJsonpdecipher-drop-frontend"]||[]).push([[0],{240:function(e,t,n){"use strict";t.a=n.p+"static/media/escrow.tmpl.091ece65.teal"},297:function(e,t,n){},316:function(e,t){},318:function(e,t){},328:function(e,t){},330:function(e,t){},357:function(e,t){},358:function(e,t){},363:function(e,t){},365:function(e,t){},372:function(e,t){},391:function(e,t){},419:function(e,t){},491:function(e,t){},494:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(28),o=n.n(c),s=(n(297),n(1)),i=n.n(s),l=n(6),u=n(22),d=n(43),p=n(498),h=n(2),b=n(4);function j(e){var t=r.useState(!1),n=Object(u.a)(t,2),a=n[0],c=n[1],o=e.sessionWallet,s=e.updateWallet;function j(e){return f.apply(this,arguments)}function f(){return(f=Object(l.a)(i.a.mark((function t(n){var r,a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=n.currentTarget.id)in d.allowedWallets){t.next=4;break}return void 0!==e.sessionWallet.wallet&&e.sessionWallet.disconnect(),t.abrupt("return",c(!1));case 4:return a=new d.SessionWallet(e.sessionWallet.network,e.sessionWallet.permissionCallback,r),t.next=7,a.connect();case 7:if(t.sent){t.next=9;break}a.disconnect();case 9:o=setInterval((function(){var t=localStorage.getItem("walletconnect");if(null!==t&&void 0!==t&&""!==t){var n=JSON.parse(t);n.accounts.length>0&&(clearInterval(o),a.setAccountList(n.accounts),e.updateWallet(new d.SessionWallet(a.network,a.permissionCallback,r)))}}),250),e.updateWallet(a),c(!1);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}r.useEffect((function(){var e;if(!o.connected())return o.connect().then((function(t){t&&(e=setInterval((function(){o.connected()&&(clearInterval(e),s(o))}),500))})),function(){clearInterval(e)}}),[o,s]);for(var x=[],g=0,O=Object.entries(d.allowedWallets);g<O.length;g++){var m=Object(u.a)(O[g],2),w=m[0],v=m[1];"wallet-connect"===w&&x.push(Object(b.jsx)("li",{children:Object(b.jsx)(p.b,{id:w,large:!0,fill:!0,minimal:!0,outlined:!0,onClick:j,children:Object(b.jsxs)("div",{className:"wallet-option",children:[Object(b.jsx)("img",{alt:"wallet-branding",className:"wallet-branding",src:v.img(e.darkMode)}),Object(b.jsx)("h5",{children:v.displayName()})]})})},w))}if(!e.connected)return Object(b.jsxs)("div",{children:[Object(b.jsx)(p.b,{minimal:!0,style:{color:"white",borderColor:"white",borderRadius:"8px"},rightIcon:"selection",intent:"warning",outlined:!0,onClick:function(){c(!0)},children:"Connect"}),Object(b.jsx)(p.d,{isOpen:a,title:"Select Wallet",onClose:j,children:Object(b.jsx)("div",{className:h.a.DIALOG_BODY,children:Object(b.jsx)("ul",{className:"wallet-option-list",children:x})})})]});var y=e.accts.map((function(e,t){return Object(b.jsxs)("option",{value:t,children:[" ",e.substr(0,8),"...  "]},t)}));return Object(b.jsxs)("div",{children:[Object(b.jsx)(p.e,{onChange:function(t){e.sessionWallet.setAccountIndex(parseInt(t.target.value)),e.updateWallet(e.sessionWallet)},minimal:!0,iconProps:{icon:"symbol-circle",intent:"success"},defaultValue:e.sessionWallet.accountIndex(),children:y}),Object(b.jsx)(p.b,{icon:"log-out",minimal:!0,onClick:function(){e.sessionWallet.disconnect(),e.updateWallet(new d.SessionWallet(e.sessionWallet.network,e.sessionWallet.permissionCallback))}})]})}var f=n(73),x=n(41),g=n(64),O=n(128);function m(){var e=a.a.useState(!1),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(b.jsxs)("div",{className:"help-container",children:[Object(b.jsx)(p.b,{id:"help-text",icon:"help",minimal:!0,intent:"primary",outlined:!0,onClick:function(){return r(!0)},children:"Need Help?"}),Object(b.jsx)(p.d,{isOpen:n,canEscapeKeyClose:!0,canOutsideClickClose:!0,isCloseButtonShown:!0,onClose:function(){return r(!1)},children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"help-text",children:Object(b.jsxs)("p",{style:{color:"#000 !important"},children:[Object(b.jsx)("h3",{children:"How to collect your Algo Gator"}),Object(b.jsxs)("p",{children:["First, you will need to download the ",Object(b.jsx)("a",{href:"https://algorandwallet.com/",children:"Algorand Wallet"}),"(make sure you have the latest version) and load it with at least 0.3 Algo."]}),Object(b.jsx)("p",{children:"Second, click the \u201cConnect\u201d button on the top right of this page and proceed as follows"}),Object(b.jsx)(O.MobileView,{children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"A pop-up will appear with the toggle on \u201cMobile\u201d -- Choose the account you wish to use -- Click \u201cConnect\u201d"}),Object(b.jsx)("li",{children:"Return to the landing page on your mobile browser. Your Algorand Wallet address should now appear on the top right corner of the page"}),Object(b.jsx)("li",{children:"Click \u201cCollect\u201d on the web page in your mobile browser, and then switch to the wallet App to \u201cApprove\u201d the transaction"})]})}),Object(b.jsx)(O.BrowserView,{children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"Scan the QR code using the scanner within your mobile Algorand Wallet "}),Object(b.jsx)("li",{children:"A pop-up will appear within the mobile app -- Choose the account you wish to use -- Click \u201cConnect\u201d"}),Object(b.jsx)("li",{children:"At this point, your Algorand Wallet address will appear on the top right corner of the desktop landing page"}),Object(b.jsx)("li",{children:"Click \u201cCollect\u201d on the web page, and then \u201cApprove\u201d the transaction within your mobile wallet"})]})}),Object(b.jsx)("p",{children:"Once approved and the transaction is processed, your unique 1/1 Algo Gator NFT asset will appear on this page and within your mobile Algorand wallet. (Note that the Algorand Wallet will show the Asset Name and Asset ID, not an actual image of the NFT...yet)."}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:" Not working? "})," Try turning the mobile app off and on again. Then, if you can, post some details ",Object(b.jsx)("a",{href:"https://github.com/algorand/algorand-wallet/issues/36",children:"here"}),"."]}),Object(b.jsxs)("p",{children:["If you have any issues with the claiming process, please ",Object(b.jsx)("a",{href:"mailto:decipherevent@algorand.com",children:"reach out"})," for assistance."]})]})})})})]})}function w(e){var t=a.a.useState(e.open),n=Object(u.a)(t,2),c=n[0],o=n[1],s=a.a.useState(e.signed),i=Object(u.a)(s,2),l=i[0],d=i[1],j=a.a.useState(0),f=Object(u.a)(j,2),x=f[0],g=f[1],O=a.a.useCallback((function(){return o(!1)}),[]);return Object(r.useEffect)((function(){o(e.open),d(e.signed)}),[e]),Object(r.useEffect)((function(){var e=0;if(!(!l||x>0||x>=1))var t=setInterval((function(){if((e+=.016666666666666666)>1)return clearInterval(t),void g(1);g(e)}),100)}),[l,x]),Object(b.jsx)(p.d,{isOpen:c,onClose:O,style:{background:"#000"},children:Object(b.jsx)("div",{className:h.a.DIALOG_BODY,children:l?Object(b.jsx)(p.g,{animate:!0,intent:"success",value:x}):Object(b.jsxs)("div",{className:"container",style:{color:"white"},children:[Object(b.jsx)("p",{children:Object(b.jsx)("b",{children:"Please Approve the transaction in your Mobile Wallet. "})}),Object(b.jsx)(p.b,{style:{color:"white",borderColor:"white",borderRadius:"8px",margin:"20px 0px -20px"},minimal:!0,outlined:!0,large:!0,onClick:e.triggerHelp,text:"Having Issues?"})]})})})}var v=function(){var e=new d.SessionWallet(g.b.network),t=a.a.useState(e),n=Object(u.a)(t,2),c=n[0],o=n[1],s=a.a.useState({id:0,url:"algo-gator.png",name:"TBD"}),h=Object(u.a)(s,2),O=h[0],v=h[1],y=a.a.useState(e.accountList()),k=Object(u.a)(y,2),C=k[0],A=k[1],T=a.a.useState(e.connected()),S=Object(u.a)(T,2),N=S[0],W=S[1],I=a.a.useState(!0),D=Object(u.a)(I,2),E=D[0],R=D[1],B=a.a.useState(!0),L=Object(u.a)(B,2),G=(L[0],L[1]),P=a.a.useState(!1),M=Object(u.a)(P,2),F=M[0],H=M[1],U=a.a.useState(!1),J=Object(u.a)(U,2),V=J[0],Y=J[1],_=a.a.useState(!1),K=Object(u.a)(_,2),Q=K[0],q=K[1],X=new URLSearchParams(window.location.search),Z=X.get("escrow"),z=X.get("addr"),$=X.get("secret");function ee(){return(ee=Object(l.a)(i.a.mark((function t(){var n,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==$&&null!==z&&null!==Z){t.next=2;break}return t.abrupt("return");case 2:return H(!0),q(!0),t.prev=4,t.next=7,Object(g.c)(Z);case 7:return n=t.sent,t.next=10,Object(g.a)(e,n,Z,z,$);case 10:return r=t.sent,a=Object(g.d)(n),Y(!0),t.next=15,Object(g.e)(r);case 15:return G(!0),t.t0=v,t.next=19,a;case 19:t.t1=t.sent,(0,t.t0)(t.t1),R(!1),t.next=27;break;case 24:t.prev=24,t.t2=t.catch(4),alert("Something went wrong: "+t.t2);case 27:q(!1),H(!1);case 29:case"end":return t.stop()}}),t,null,[[4,24]])})))).apply(this,arguments)}Object(r.useEffect)((function(){R(null!==$&&null!==z&&null!==Z)}),[Z,z,$]);var te,ne=Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:" Greetings Algonaut!"}),Object(b.jsx)("p",{children:"Connect your wallet and collect your NFT ticket"})]});return 0!==O.id&&(ne=O.id<420774977?Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:" Congrats on successfully collecting your Decipher Ticket!  "}),Object(b.jsx)("p",{children:"Please make sure the asset is in your Algorand Mobile Wallet and ready to be presented when you arrive at the venue. See you at Decipher!"})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:" Congrats on successfully collecting your Algo Gator NFT!  "}),Object(b.jsx)("p",{children:"Enjoy it as a commemorative token that you\u2019ve earned by being part of the Algorand community and signing up as a virtual VIP. See you online at Decipher!"})]})),te=0===O.id?Object(b.jsx)(p.b,{style:{color:"white",borderColor:"white",borderRadius:"8px",width:"100%",marginTop:"8px"},minimal:!0,outlined:!0,intent:"success",large:!0,icon:"circle",text:"Collect",onClick:function(){return ee.apply(this,arguments)},disabled:!N||!E,loading:F}):Object(b.jsxs)("div",{children:[Object(b.jsx)(p.b,{style:{color:"white",borderColor:"white",borderRadius:"8px",margin:"8px"},minimal:!0,outlined:!0,intent:"success",large:!0,icon:"download",text:"Download",onClick:function(){var e=document.createElement("a");e.href=O.url,e.download=O.name,e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}),Object(b.jsxs)(p.a,{style:{color:"white",borderColor:"white",borderRadius:"8px",margin:"8px"},minimal:!0,outlined:!0,large:!0,intent:"success",href:"https://www.nftexplorer.app/asset/"+O.id,children:[Object(b.jsx)("img",{style:{width:"20px",float:"left",marginRight:"8px"},alt:"nft explorer icon",src:"/nftexplorer.ico"}),"NFT Explorer"]})]}),Object(b.jsxs)("div",{className:"App",style:{background:"#000"},children:[Object(b.jsxs)(p.f,{style:{background:"linear-gradient(90deg,#b72375 3%,#f37e33 97%)"},children:[Object(b.jsx)(p.f.Group,{align:f.a.LEFT,children:Object(b.jsx)(p.f.Heading,{children:Object(b.jsx)("img",{alt:"Algorand A",className:"header-icon",src:"favicon.ico"})})}),Object(b.jsx)(p.f.Group,{align:f.a.RIGHT,children:Object(b.jsx)(j,{darkMode:!0,sessionWallet:c,accts:C,connected:N,updateWallet:function(e){o(e),A(e.accountList()),W(e.connected())}})})]}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(p.c,{elevation:x.a.FOUR,className:"ticket-card",children:Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("div",{className:"content-piece",children:Object(b.jsx)("img",{alt:"NFT",className:"bp3-skeleton",src:O.url,onLoad:function(){G(!1)}})}),Object(b.jsxs)("div",{className:"content-details",children:[Object(b.jsx)("div",{className:"detail-prose",style:{color:"white"},children:ne}),Object(b.jsx)("div",{className:"collect-button",children:te})]})]})})}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(m,{})}),Object(b.jsx)(w,{triggerHelp:function(){var e;q(!1),H(!1),null===(e=document.getElementById("help-text"))||void 0===e||e.click()},open:Q,signed:V})]})};o.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(v,{})}),document.getElementById("root"))},64:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return x})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return N}));var r=n(1),a=n.n(r),c=n(22),o=n(88),s=n(6),i=n(27),l=n.n(i),u=n(238),d=n.n(u),p=n(239),h=n.n(p),b=n(240),j={seeder:"DCIPMQ3SDOVBX5IUY65LR7BZ2R63JCULO72J7IS3W2PUNW7JTAGYEHBRRA",network:"MainNet",algod:{host:"https://algoexplorerapi.io",port:"",token:""}},f=new l.a.Algodv2(j.algod.token,j.algod.host,j.algod.port);function x(e,t,n,r,a){return g.apply(this,arguments)}function g(){return(g=Object(s.a)(a.a.mark((function e(t,n,r,s,u){var d,p,h,b,x,g,m,w,v,y,C,A;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=t.getDefaultAccount(),e.next=3,k(s);case 3:return p=e.sent,e.next=6,f.getTransactionParams().do();case 6:return h=e.sent,b=new i.Transaction(Object(o.a)({from:d,to:d,assetIndex:n,type:i.TransactionType.axfer,amount:0},h)),x=new i.Transaction(Object(o.a)({from:r,to:d,assetIndex:n,type:i.TransactionType.axfer,amount:0,closeRemainderTo:d},h)),g=new i.Transaction(Object(o.a)({from:r,to:j.seeder,type:i.TransactionType.pay,amount:0,closeRemainderTo:j.seeder},h)),m=[b,x,g],l.a.assignGroupID(m),p.lsig.args=[O(x.txID(),r,u)],w=l.a.signLogicSigTransactionObject(x,p),v=l.a.signLogicSigTransactionObject(g,p),e.next=17,t.signTxn(m);case 17:return y=e.sent,C=Object(c.a)(y,2),A=C[0],e.abrupt("return",[A,w,v]);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(t,n,r){var a=e.from("ProgData"),c=l.a.decodeAddress(n).publicKey,o=d.a.decode.asBytes(t),s=new Uint8Array(a.length+c.length+o.length);s.set(a,0),s.set(c,a.length),s.set(o,a.length+c.length);var i=e.from(r,"base64");return h.a.sign.detached(s,i)}function m(e){return w.apply(this,arguments)}function w(){return(w=Object(s.a)(a.a.mark((function e(t){var n,r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getAssetByID(t).do();case 2:return n=e.sent,r=n.params,c=r.url.split("://"),o="https://ipfs.io/ipfs/"+c[1],e.abrupt("return",{id:t,url:o,name:r.name});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.accountInformation(t).do();case 2:if(1===(n=e.sent).assets.length){e.next=5;break}throw Error("Expected 1 ASA for "+t+" got: "+n.assets.length.toString());case 5:return e.abrupt("return",n.assets[0]["asset-id"]);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=Object(s.a)(a.a.mark((function t(n){var r,c,o,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="0x"+e.from(l.a.decodeAddress(n).publicKey).toString("hex"),t.next=3,A(b.a);case 3:return c=t.sent,o=c.replace("TMPL_GEN_ADDR",r),t.next=7,f.compile(o).do();case 7:return s=t.sent,t.abrupt("return",new i.LogicSigAccount(e.from(s.result,"base64")));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(e){return T.apply(this,arguments)}function T(){return(T=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return S(e)&&e.arrayBuffer()})).then((function(e){return(new TextDecoder).decode(e)})).catch((function(e){return console.error(e),""}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){if(!e.ok)throw new Error("HTTP ".concat(e.status," - ").concat(e.statusText));return e}function N(e){return W.apply(this,arguments)}function W(){return(W=Object(s.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.sendRawTransaction(t.map((function(e){return e.blob}))).do();case 2:return n=e.sent,r=n.txId,e.next=6,I(f,r,3);case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t,n){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(a.a.mark((function e(t,n,r){var c,o,s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null==t||null==n||r<0)){e.next=2;break}throw new Error("Bad arguments.");case 2:return e.next=4,t.status().do();case 4:if("undefined"!==typeof(c=e.sent)){e.next=7;break}throw new Error("Unable to get node status");case 7:o=c["last-round"]+1,s=o;case 9:if(!(s<o+r)){e.next=23;break}return e.next=12,t.pendingTransactionInformation(n).do();case 12:if(void 0===(i=e.sent)){e.next=18;break}if(!(null!==i["confirmed-round"]&&i["confirmed-round"]>0)){e.next=16;break}return e.abrupt("return",i);case 16:if(!(null!=i["pool-error"]&&i["pool-error"].length>0)){e.next=18;break}throw new Error("Transaction Rejected pool error".concat(i["pool-error"]));case 18:return e.next=20,t.statusAfterBlock(s).do();case 20:s+=1,e.next=9;break;case 23:throw new Error("Transaction not confirmed after ".concat(r," rounds!"));case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(17).Buffer)}},[[494,1,2]]]);
//# sourceMappingURL=main.6672852f.chunk.js.map